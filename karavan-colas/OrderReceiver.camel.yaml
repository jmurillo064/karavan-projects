- route:
    id: activemq-route-simple
    from:
      id: from-simple
      uri: activemq
      parameters:
        destinationType: queue
        destinationName: salida
      steps:
        - log:
            id: log-simple
            message: "Insertando en base: ${body}"
            loggingLevel: INFO
        - setHeader:
            id: setHeader-jdbc-query
            name: CamelJdbcQuery
            expression:
              constant:
                id: constant-jdbc-query
                expression: >-
                  INSERT INTO mensajes (contenido, fecha_procesamiento, estado)
                  VALUES (?, GETDATE(), 'PROCESADO')
        - to:
            id: to-database
            uri: jdbc
            parameters:
              dataSourceName: myDataSource
